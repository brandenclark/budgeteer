{"id":"budgeteer-suw","title":"Budgeteer Framework Setup","description":"Set up TanStack Start with Solid, Kobalte UI, Tailwind CSS, and Supabase (auth + data abstraction layer). SSR-first architecture with flexible data access pattern.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-29T15:28:19.028399-08:00","updated_at":"2025-12-29T15:28:19.028399-08:00"}
{"id":"budgeteer-suw.1","title":"Initialize TanStack Start with Solid","description":"Create new TanStack Start project with Solid framework. Configure for SSR-first architecture.","design":"## Goal\nCreate new TanStack Start project with Solid framework, SSR-first architecture.\n\n## Codebase Verification\n- ✓ Project empty (README.md, AGENTS.md, .gitattributes only)\n- ✓ No package.json exists\n- ✓ No conflicting config files\n- + .beads/ and .claude/ directories exist (preserve)\n- + No .gitignore at root (create during init)\n\n## Implementation Steps\n\n### Step 1: Create TanStack Start project with Solid\n```bash\ncd /Users/brandenclark/code/brandenclark/budgeteer\npnpm create @tanstack/start@latest . --framework solid --tailwind\n```\nCLI prompts: Project name: budgeteer, Enable Tailwind: Yes, Enable ESLint: Yes\n\n### Step 2: Verify project structure created\n```bash\nls -la\n# Expected: package.json, tsconfig.json, app.config.ts, src/, public/\n```\n\nExpected structure:\n```\nbudgeteer/\n├── app.config.ts\n├── package.json\n├── tsconfig.json\n├── src/\n│   ├── routes/\n│   │   ├── __root.tsx\n│   │   └── index.tsx\n│   ├── client.tsx\n│   └── router.tsx\n└── public/\n```\n\n### Step 3: Update .gitignore\nAdd:\n```gitignore\nnode_modules/\ndist/\n.output/\n.vinxi/\n.env\n.env.local\n.env.*.local\n.idea/\n*.swp\n*.swo\n.DS_Store\nThumbs.db\n*.log\nnpm-debug.log*\npnpm-debug.log*\n```\n\n### Step 4: Install dependencies\n```bash\npnpm install\n```\n\n### Step 5: Verify dev server starts\n```bash\npnpm dev\n# Expected: http://localhost:3000 with TanStack Start welcome page\n```\n\n### Step 6: Verify SSR is working\n```bash\ncurl -s http://localhost:3000 | head -50\n# Expected: Full HTML response (not empty body)\n```\n\n### Step 7: Commit initial setup\n```bash\ngit add -A\ngit commit -m \"Initialize TanStack Start with Solid and Tailwind\"\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T15:28:34.572045-08:00","updated_at":"2025-12-29T16:45:44.888298-08:00","closed_at":"2025-12-29T16:45:44.888298-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.1","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:34.574202-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.2","title":"Configure Tailwind CSS","description":"Set up Tailwind CSS with proper configuration for Solid components. Configure theme tokens for budgeting app.","design":"## Goal\nSet up Tailwind CSS with proper configuration for Solid components. Configure theme tokens for budgeting app.\n\n## Dependencies\nDepends on: budgeteer-suw.1 (TanStack Start initialized with --tailwind)\n\n## Implementation Steps\n\n### Step 1: Verify Tailwind is installed\n```bash\ncat package.json | grep -E \"tailwindcss|postcss|autoprefixer\"\n# Expected: tailwindcss, postcss, autoprefixer in devDependencies\n```\n\n### Step 2: Verify Tailwind config exists\n```bash\nls -la tailwind.config.*\n```\n\n### Step 3: Extend Tailwind config with budgeting theme tokens\nEdit `tailwind.config.ts`:\n```typescript\nimport type { Config } from 'tailwindcss'\n\nexport default {\n  content: ['./src/**/*.{js,jsx,ts,tsx}'],\n  theme: {\n    extend: {\n      colors: {\n        income: { 50: '#f0fdf4', 500: '#22c55e', 600: '#16a34a' },\n        expense: { 50: '#fef2f2', 500: '#ef4444', 600: '#dc2626' },\n        savings: { 50: '#eff6ff', 500: '#3b82f6', 600: '#2563eb' },\n        warning: { 50: '#fffbeb', 500: '#f59e0b', 600: '#d97706' },\n      },\n      fontFamily: {\n        sans: ['Inter', 'system-ui', 'sans-serif'],\n        mono: ['JetBrains Mono', 'monospace'],\n      },\n    },\n  },\n  plugins: [],\n} satisfies Config\n```\n\n### Step 4: Verify global CSS has Tailwind directives\nCheck src/styles/app.css:\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n### Step 5: Add CSS custom properties for theming\nAdd to global CSS after directives - light/dark mode variables for background, foreground, card, primary, secondary, muted, accent, destructive, border, input, ring, radius.\n\n### Step 6: Test Tailwind is working\nEdit route to use Tailwind classes, run pnpm dev, verify styled content.\n\n### Step 7: Commit\n```bash\ngit add -A\ngit commit -m \"Configure Tailwind CSS with budgeting theme tokens\"\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T15:28:34.97884-08:00","updated_at":"2025-12-30T08:39:05.677489-08:00","closed_at":"2025-12-30T08:39:05.677489-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.2","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:34.979423-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.2","depends_on_id":"budgeteer-suw.1","type":"blocks","created_at":"2025-12-29T15:28:59.118071-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.3","title":"Set up Kobalte UI primitives","description":"Install and configure Kobalte for accessible UI components. Create base component wrappers with Tailwind styling.","design":"## Goal\nInstall and configure Kobalte for accessible UI components. Create base component wrappers with Tailwind styling.\n\n## Dependencies\nDepends on: budgeteer-suw.2 (Tailwind configured)\n\n## Implementation Steps\n\n### Step 1: Install Kobalte core\n```bash\npnpm add @kobalte/core\n```\n\n### Step 2: Install Kobalte Tailwind plugin\n```bash\npnpm add -D @kobalte/tailwindcss\n```\n\n### Step 3: Configure Tailwind plugin\nEdit `tailwind.config.ts` - import and add kobalte to plugins array.\n\n### Step 4: Create component directory\n```bash\nmkdir -p src/components/ui\n```\n\n### Step 5: Create Button component wrapper\nCreate `src/components/ui/button.tsx` with:\n- KobalteButton from @kobalte/core/button\n- buttonVariants using class-variance-authority\n- Variants: default, destructive, outline, secondary, ghost, link\n- Sizes: default, sm, lg, icon\n\n### Step 6: Install styling utilities\n```bash\npnpm add class-variance-authority clsx tailwind-merge\n```\n\n### Step 7: Create cn utility\nCreate `src/lib/utils.ts` with cn() function using clsx + tailwind-merge.\n\n### Step 8: Create component index\nCreate `src/components/ui/index.ts` exporting Button.\n\n### Step 9: Test Button component\nEdit route to import and render Button variants, run pnpm dev.\n\n### Step 10: Commit\n```bash\ngit add -A\ngit commit -m \"Set up Kobalte UI primitives with Button component\"\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T15:28:35.330163-08:00","updated_at":"2025-12-30T11:31:00.138354-08:00","closed_at":"2025-12-30T11:31:00.138354-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.3","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:35.33069-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.3","depends_on_id":"budgeteer-suw.2","type":"blocks","created_at":"2025-12-29T15:28:59.316342-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.4","title":"Configure Supabase clients (SSR + browser)","description":"Set up @supabase/ssr for server-side client and browser client. Handle cookie-based session management for SSR.","design":"## Goal\nSet up @supabase/ssr for server-side client and browser client. Handle cookie-based session management for SSR.\n\n## Dependencies\nDepends on: budgeteer-suw.1\n\n## Implementation Steps\n\n### Step 1: Install Supabase packages\n```bash\npnpm add @supabase/supabase-js @supabase/ssr\n```\n\n### Step 2: Create .env.local\n```\nVITE_SUPABASE_URL=your_project_url\nVITE_SUPABASE_ANON_KEY=your_anon_key\n```\n\n### Step 3: Verify .gitignore has env patterns\n\n### Step 4: Generate Supabase types\n```bash\npnpm add -D supabase\nnpx supabase gen types typescript --project-id YOUR_PROJECT_ID \u003e src/lib/database.types.ts\n```\n\n### Step 5: Create browser client\nCreate `src/lib/supabase/client.ts` with singleton pattern using createBrowserClient.\n\n### Step 6: Create server client factory\nCreate `src/lib/supabase/server.ts` with:\n- createServerClient from @supabase/ssr\n- parseCookieHeader, serializeCookieHeader for cookie handling\n- getRequestEvent from solid-js/web for request context\n- 'use server' directive\n\n### Step 7: Create unified export\nCreate `src/lib/supabase/index.ts` exporting both clients.\n\n### Step 8: Create placeholder database types\nCreate `src/lib/database.types.ts` with empty Database type.\n\n### Step 9: Add env type declarations\nCreate `src/env.d.ts` with ImportMetaEnv interface.\n\n### Step 10: Test server client\nCreate test function to verify server connection works.\n\n### Step 11: Commit\n```bash\ngit add -A\ngit commit -m \"Configure Supabase clients for SSR and browser\"\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T15:28:35.677931-08:00","updated_at":"2025-12-30T08:43:31.514814-08:00","closed_at":"2025-12-30T08:43:31.514814-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.4","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:35.678466-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.4","depends_on_id":"budgeteer-suw.1","type":"blocks","created_at":"2025-12-29T15:28:59.507323-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.5","title":"Implement Supabase Auth with SSR","description":"Implement authentication flow with Supabase. Server-side session validation, protected routes, auth context for Solid.","design":"## Goal\nImplement authentication flow with Supabase. Server-side session validation, protected routes, auth context for Solid.\n\n## Dependencies\nDepends on: budgeteer-suw.4\n\n## Implementation Steps\n\n### Step 1: Create auth context\nCreate `src/lib/auth/context.tsx` with:\n- AuthContext with user, session, loading signals\n- AuthProvider component with onMount session fetch\n- onAuthStateChange listener\n- signIn, signUp, signOut methods\n- useAuth hook\n\n### Step 2: Create server-side auth utilities\nCreate `src/lib/auth/server.ts` with:\n- getServerSession() - 'use server' function to get session\n- getServerUser() - get user from session\n- requireAuth() - throw redirect to /login if no session\n\n### Step 3: Create auth export\nCreate `src/lib/auth/index.ts` exporting all utilities.\n\n### Step 4: Add AuthProvider to root layout\nWrap Outlet in AuthProvider in `src/routes/__root.tsx`.\n\n### Step 5: Create login page\nCreate `src/routes/login.tsx` with email/password form, error handling, redirect on success.\n\n### Step 6: Create protected route example\nCreate `src/routes/dashboard.tsx` with beforeLoad calling requireAuth().\n\n### Step 7: Add sign out to home page\nEdit index.tsx to show user email and sign out button when authenticated.\n\n### Step 8: Test authentication flow\n1. Visit /dashboard → redirect to /login\n2. Sign in → redirect to dashboard\n3. Refresh → stay authenticated (SSR)\n\n### Step 9: Commit\n```bash\ngit add -A\ngit commit -m \"Implement Supabase Auth with SSR and protected routes\"\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T15:28:36.054481-08:00","updated_at":"2025-12-30T10:03:26.708055-08:00","closed_at":"2025-12-30T10:03:26.708055-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.5","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:36.054934-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.5","depends_on_id":"budgeteer-suw.4","type":"blocks","created_at":"2025-12-29T15:28:59.687811-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.6","title":"Create data access abstraction layer","description":"Create repository pattern abstraction that can switch between Supabase Data API and direct SQL queries. Type-safe with generated types from Supabase schema.","design":"## Goal\nCreate repository pattern abstraction that can switch between Supabase Data API and direct SQL queries. Type-safe with generated types.\n\n## Dependencies\nDepends on: budgeteer-suw.4\n\n## Implementation Steps\n\n### Step 1: Define abstraction strategy\nRepository pattern with two implementations:\n- DataApiRepository (PostgREST)\n- SqlRepository (direct SQL via rpc)\n\n### Step 2: Create base types\nCreate `src/lib/data/types.ts` with Repository interface, QueryOptions, Filter, DataAccessStrategy.\n\n### Step 3: Create Data API implementation\nCreate `src/lib/data/strategies/data-api.ts` using supabase.from() methods.\n\n### Step 4: Create SQL implementation\nCreate `src/lib/data/strategies/sql.ts` using supabase.rpc() with query functions.\n\n### Step 5: Create repository factory\nCreate `src/lib/data/factory.ts` with createRepository() that selects strategy.\n\n### Step 6: Create exports\nCreate `src/lib/data/index.ts` exporting all.\n\n### Step 7: Add SQL functions to Supabase\nCreate migration with query_single, query_many, execute_sql functions for SQL strategy.\n\n### Step 8: Create usage example\nDocument example usage in `src/lib/data/example.ts`.\n\n### Step 9: Commit\n```bash\ngit add -A\ngit commit -m \"Create data access abstraction layer with repository pattern\"\n```","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-29T15:28:36.421163-08:00","updated_at":"2025-12-30T10:14:35.753539-08:00","closed_at":"2025-12-30T10:14:35.753539-08:00","close_reason":"Closed","dependencies":[{"issue_id":"budgeteer-suw.6","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:36.421605-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.6","depends_on_id":"budgeteer-suw.4","type":"blocks","created_at":"2025-12-29T15:28:59.860336-08:00","created_by":"daemon"}]}
{"id":"budgeteer-suw.7","title":"Write framework documentation","description":"Document how to use the framework: routing patterns, data fetching, auth usage, adding new components, deployment.","design":"## Goal\nDocument how to use the framework: routing patterns, data fetching, auth usage, adding new components, deployment.\n\n## Dependencies\nDepends on: budgeteer-suw.3, budgeteer-suw.5, budgeteer-suw.6\n\n## Implementation Steps\n\n### Step 1: Create docs directory\n```bash\nmkdir -p docs\n```\n\n### Step 2: Create ARCHITECTURE.md\nOverview of tech stack, directory structure, key patterns (SSR, auth, data access).\n\n### Step 3: Create ROUTING.md\nFile-based routing, creating routes, protected routes, route parameters, data loading.\n\n### Step 4: Create DATA-FETCHING.md\nRepository pattern usage, strategy selection, type safety, when to use each strategy.\n\n### Step 5: Create AUTHENTICATION.md\nuseAuth hook, server-side auth, protected routes, RLS integration.\n\n### Step 6: Create COMPONENTS.md\nAdding new UI components, Kobalte + Tailwind patterns, theming.\n\n### Step 7: Create DEPLOYMENT.md\nBuild process, env vars, deployment options (Vercel, Cloudflare, Node.js).\n\n### Step 8: Update README.md\nQuick start, doc links, tech stack overview.\n\n### Step 9: Create .env.example\nTemplate for environment variables.\n\n### Step 10: Commit\n```bash\ngit add -A\ngit commit -m \"Add framework documentation\"\n```","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-12-29T15:28:36.780619-08:00","updated_at":"2025-12-30T12:39:01.799899-08:00","dependencies":[{"issue_id":"budgeteer-suw.7","depends_on_id":"budgeteer-suw","type":"parent-child","created_at":"2025-12-29T15:28:36.781082-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.7","depends_on_id":"budgeteer-suw.3","type":"blocks","created_at":"2025-12-29T15:29:00.031385-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.7","depends_on_id":"budgeteer-suw.5","type":"blocks","created_at":"2025-12-29T15:29:00.20549-08:00","created_by":"daemon"},{"issue_id":"budgeteer-suw.7","depends_on_id":"budgeteer-suw.6","type":"blocks","created_at":"2025-12-29T15:29:00.407277-08:00","created_by":"daemon"}]}
